(()=>{"use strict";(()=>{const e=document.querySelector(".js-suggestionInput"),t=document.querySelector(".js-suggestionList"),n=e.dataset.suggestUrl;e.addEventListener("input",(e=>{var s,c,i,r;(s=void 0,c=void 0,i=void 0,r=function*(){if(t.innerHTML="",!(e.target instanceof HTMLInputElement))return;if(!e.target.value)return;const s=new URLSearchParams({search:e.target.value}),c=`${n}?${String(s)}`,i=yield fetch(c);(yield i.json()).forEach((e=>{const n=document.createElement("li");n.classList.add("js-suggestLi"),n.textContent=e.name,t.appendChild(n)}))},new(i||(i=Promise))((function(e,t){function n(e){try{o(r.next(e))}catch(e){t(e)}}function a(e){try{o(r.throw(e))}catch(e){t(e)}}function o(t){var s;t.done?e(t.value):(s=t.value,s instanceof i?s:new i((function(e){e(s)}))).then(n,a)}o((r=r.apply(s,c||[])).next())}))).catch((e=>{window.alert(e)}))})),t.addEventListener("click",(n=>{const s=n.target.closest(".js-suggestLi");s&&(e.value=s.textContent,t.innerHTML="")}))})(),document.querySelector(".js-inputImg").addEventListener("change",(e=>{const t=e.target.files;if(!t)return;const n=window.URL.createObjectURL(t[0]),s=document.querySelector(".js-displayImg");s.src=n,s.addEventListener("load",(()=>s.classList.remove("is-hidden")))}))})();